<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwagChup - 25+ Premium PDF Tools</title>
    
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <script src="https://quge5.com/88/tag.min.js" data-zone="212171" async data-cfasync="false"></script>
    <script src="https://quge5.com/88/tag.min.js" data-zone="213302" async data-cfasync="false"></script>
    <script src="https://quge5.com/88/tag.min.js" data-zone="212170" async data-cfasync="false"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-tertiary: #64748b;
            --accent-1: #6366f1;
            --accent-2: #8b5cf6;
            --accent-3: #d946ef;
            --accent-4: #ec4899;
            --border: #e2e8f0;
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
            --shadow: 0 20px 40px -15px rgba(0, 0, 0, 0.15);
            --gradient: linear-gradient(135deg, #6366f1, #8b5cf6, #d946ef, #ec4899);
            --gradient-hover: linear-gradient(135deg, #4f46e5, #7c3aed, #c026d3, #db2777);
        }

        [data-theme="dark"] {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-tertiary: #94a3b8;
            --accent-1: #818cf8;
            --accent-2: #a78bfa;
            --accent-3: #e879f9;
            --accent-4: #f9a8d4;
            --border: #334155;
            --shadow: 0 20px 40px -15px rgba(0, 0, 0, 0.5);
        }

        body {
            background: var(--bg-secondary);
            color: var(--text-primary);
            transition: all 0.3s ease;
            min-height: 100vh;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            background: rgba(var(--bg-primary), 0.8);
        }

        .logo {
            font-size: 2rem;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-decoration: none;
            letter-spacing: -0.5px;
        }

        .nav-items {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        /* Auth Buttons */
        .auth-buttons {
            display: flex;
            gap: 1rem;
        }

        .btn {
            padding: 0.6rem 1.5rem;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
        }

        .btn-login {
            background: transparent;
            color: var(--accent-1);
            border: 2px solid var(--accent-1);
        }

        .btn-login:hover {
            background: var(--accent-1);
            color: white;
            transform: translateY(-2px);
        }

        .btn-signup {
            background: var(--gradient);
            color: white;
        }

        .btn-signup:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        /* Theme Toggle */
        .theme-toggle {
            width: 56px;
            height: 28px;
            background: var(--bg-tertiary);
            border: 2px solid var(--border);
            border-radius: 30px;
            position: relative;
            cursor: pointer;
        }

        .theme-toggle-circle {
            width: 24px;
            height: 24px;
            background: var(--gradient);
            border-radius: 50%;
            position: absolute;
            top: 0;
            left: 0;
            transition: transform 0.3s;
        }

        [data-theme="dark"] .theme-toggle-circle {
            transform: translateX(28px);
        }

        /* Hero Section */
        .hero {
            margin-top: 80px;
            padding: 4rem 2rem;
            text-align: center;
            background: radial-gradient(circle at 50% 0%, var(--accent-1)15, transparent 70%);
        }

        .hero h1 {
            font-size: 4rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
            font-weight: 800;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.3rem;
            color: var(--text-secondary);
            max-width: 800px;
            margin: 0 auto 3rem;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 4rem;
            flex-wrap: wrap;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            color: var(--text-tertiary);
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Tools Section */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin: 3rem 0;
            color: var(--text-primary);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--gradient);
            border-radius: 2px;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .tool-card {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 2rem;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .tool-card:hover {
            transform: translateY(-8px);
            border-color: var(--accent-1);
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .tool-card:hover::before {
            transform: scaleX(1);
        }

        .tool-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .tool-card h3 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .tool-card p {
            color: var(--text-tertiary);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .badge {
            position: absolute;
            top: 1rem;
            right: -2rem;
            background: var(--gradient);
            color: white;
            padding: 0.2rem 2.5rem;
            transform: rotate(45deg);
            font-size: 0.8rem;
            font-weight: 600;
        }

        .new-badge {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: var(--success);
            color: white;
            padding: 0.3rem 1rem;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--bg-primary);
            border-radius: 30px;
            padding: 2.5rem;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: var(--shadow);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-tertiary);
            transition: all 0.3s;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: var(--bg-tertiary);
        }

        .close:hover {
            color: var(--danger);
            transform: rotate(90deg);
        }

        /* Drop Zone */
        .drop-zone {
            border: 3px dashed var(--border);
            border-radius: 20px;
            padding: 3rem;
            text-align: center;
            margin: 2rem 0;
            cursor: pointer;
            transition: all 0.3s;
            background: var(--bg-tertiary);
        }

        .drop-zone.dragover {
            border-color: var(--accent-1);
            background: linear-gradient(135deg, var(--accent-1)10, var(--accent-2)10);
            transform: scale(1.02);
        }

        .drop-zone p {
            font-size: 1.2rem;
            color: var(--text-secondary);
        }

        /* File List */
        .file-list {
            list-style: none;
            margin: 1rem 0;
            max-height: 200px;
            overflow-y: auto;
        }

        .file-list li {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .remove-file {
            color: var(--danger);
            cursor: pointer;
            font-weight: bold;
            padding: 0.2rem 0.8rem;
            border-radius: 6px;
            transition: all 0.3s;
        }

        .remove-file:hover {
            background: var(--danger);
            color: white;
        }

        /* Tool Options */
        .tool-options {
            background: var(--bg-tertiary);
            border-radius: 20px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .tool-options label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            font-weight: 600;
        }

        .tool-options input,
        .tool-options select,
        .tool-options textarea {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 2px solid var(--border);
            border-radius: 12px;
            background: var(--bg-primary);
            color: var(--text-primary);
            margin-bottom: 1rem;
            font-size: 1rem;
        }

        .tool-options input:focus,
        .tool-options select:focus {
            outline: none;
            border-color: var(--accent-1);
        }

        /* Process Button */
        .process-btn {
            width: 100%;
            padding: 1.2rem;
            background: var(--gradient);
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin: 1.5rem 0;
        }

        .process-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .process-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Output Area */
        .output-area {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: var(--bg-tertiary);
            border-radius: 16px;
            text-align: center;
        }

        .download-btn {
            display: inline-block;
            padding: 1rem 2rem;
            background: var(--success);
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            margin-top: 1rem;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        /* Loader */
        .loader {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: white;
            border-radius: 30px;
            z-index: 10;
        }

        .loader.active {
            display: flex;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 5px solid var(--border);
            border-top-color: var(--accent-1);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Auth Modal */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            align-items: center;
            justify-content: center;
            z-index: 3000;
        }

        .auth-modal.active {
            display: flex;
        }

        .auth-container {
            background: var(--bg-primary);
            border-radius: 30px;
            padding: 2.5rem;
            width: 90%;
            max-width: 400px;
            position: relative;
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--border);
        }

        .auth-tab {
            flex: 1;
            padding: 1rem;
            border: none;
            background: none;
            color: var(--text-tertiary);
            font-weight: 600;
            cursor: pointer;
            font-size: 1.1rem;
        }

        .auth-tab.active {
            color: var(--accent-1);
            border-bottom: 2px solid var(--accent-1);
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 2px solid var(--border);
            border-radius: 12px;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            font-size: 1rem;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--accent-1);
        }

        .error-message {
            color: var(--danger);
            font-size: 0.85rem;
            margin-top: 0.3rem;
        }

        .success-message {
            color: var(--success);
            font-size: 0.9rem;
            margin: 0.5rem 0;
            padding: 0.8rem;
            background: var(--bg-tertiary);
            border-radius: 12px;
            text-align: center;
        }

        /* User Profile */
        .user-profile {
            display: none;
            align-items: center;
            gap: 1rem;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: var(--gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.2rem;
        }

        .user-name {
            color: var(--text-primary);
            font-weight: 600;
        }

        .logout-btn {
            padding: 0.4rem 1rem;
            background: transparent;
            border: 1px solid var(--danger);
            color: var(--danger);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .logout-btn:hover {
            background: var(--danger);
            color: white;
        }

        /* Footer */
        .footer {
            background: var(--bg-primary);
            border-top: 1px solid var(--border);
            padding: 4rem 2rem 2rem;
            margin-top: 4rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 3rem;
        }

        .footer-section h4 {
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section li {
            margin-bottom: 0.8rem;
        }

        .footer-section a {
            color: var(--text-tertiary);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-section a:hover {
            color: var(--accent-1);
        }

        .copyright {
            text-align: center;
            padding-top: 3rem;
            margin-top: 3rem;
            border-top: 1px solid var(--border);
            color: var(--text-tertiary);
        }

        /* Hamburger Menu */
        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 6px;
        }

        .hamburger span {
            width: 30px;
            height: 3px;
            background: var(--gradient);
            border-radius: 3px;
            transition: 0.3s;
        }

        /* Mobile Menu */
        .mobile-menu {
            display: none;
            position: fixed;
            top: 80px;
            left: 0;
            right: 0;
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border);
            padding: 1rem;
            flex-direction: column;
            gap: 0.5rem;
            z-index: 999;
            transform: translateY(-150%);
            transition: transform 0.3s;
        }

        .mobile-menu.active {
            transform: translateY(0);
        }

        .mobile-menu a {
            color: var(--text-primary);
            text-decoration: none;
            padding: 0.8rem;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .mobile-menu a:hover {
            background: var(--bg-tertiary);
            color: var(--accent-1);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .auth-buttons {
                display: none;
            }

            .hamburger {
                display: flex;
            }

            .mobile-menu {
                display: flex;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .stats {
                gap: 2rem;
            }

            .stat-number {
                font-size: 2rem;
            }

            .container {
                padding: 1rem;
            }

            .tools-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body data-theme="light">
    <!-- Header -->
    <header class="header">
        <a href="#" class="logo">‚ö° SwagChup</a>
        
        <div class="nav-items">
            <!-- Auth Buttons -->
            <div class="auth-buttons" id="auth-buttons">
                <button class="btn btn-login" id="open-login">Login</button>
                <button class="btn btn-signup" id="open-signup">Sign Up</button>
            </div>

            <!-- User Profile -->
            <div class="user-profile" id="user-profile">
                <div class="user-avatar" id="user-avatar">U</div>
                <span class="user-name" id="user-name">User</span>
                <button class="logout-btn" id="logout-btn">Logout</button>
            </div>

            <!-- Theme Toggle -->
            <div class="theme-toggle" id="theme-toggle">
                <div class="theme-toggle-circle"></div>
            </div>

            <!-- Hamburger Menu -->
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
        <a href="#" onclick="openTool('merge-pdf')">üìë Merge PDF</a>
        <a href="#" onclick="openTool('split-pdf')">‚úÇÔ∏è Split PDF</a>
        <a href="#" onclick="openTool('compress-pdf')">üóúÔ∏è Compress PDF</a>
        <a href="#" onclick="openTool('pdf-to-word')">üìù PDF to Word</a>
        <a href="#" onclick="openTool('word-to-pdf')">üìÑ Word to PDF</a>
        <a href="#" onclick="openTool('pdf-to-excel')">üìä PDF to Excel</a>
        <a href="#" onclick="openTool('excel-to-pdf')">üìà Excel to PDF</a>
        <a href="#" onclick="openTool('pdf-to-ppt')">üìΩÔ∏è PDF to PPT</a>
        <a href="#" onclick="openTool('ppt-to-pdf')">üì∫ PPT to PDF</a>
        <a href="#" onclick="openTool('pdf-to-images')">üñºÔ∏è PDF to Images</a>
        <a href="#" onclick="openTool('images-to-pdf')">üì∏ Images to PDF</a>
        <a href="#" onclick="openTool('edit-pdf')">‚úèÔ∏è Edit PDF</a>
        <a href="#" onclick="openTool('sign-pdf')">‚úçÔ∏è Sign PDF</a>
        <a href="#" onclick="openTool('protect-pdf')">üîí Protect PDF</a>
        <a href="#" onclick="openTool('unlock-pdf')">üîì Unlock PDF</a>
        <a href="#" onclick="openTool('rotate-pdf')">üîÑ Rotate PDF</a>
        <a href="#" onclick="openTool('watermark-pdf')">üíß Watermark PDF</a>
        <a href="#" onclick="openTool('crop-pdf')">‚úÇÔ∏è Crop PDF</a>
        <a href="#" onclick="openTool('delete-pages')">üóëÔ∏è Delete Pages</a>
        <a href="#" onclick="openTool('extract-pages')">üìÑ Extract Pages</a>
        <a href="#" onclick="openTool('reorder-pages')">üîÑ Reorder Pages</a>
        <a href="#" onclick="openTool('add-numbers')">üî¢ Add Page Numbers</a>
        <a href="#" onclick="openTool('flatten-pdf')">‚¨áÔ∏è Flatten PDF</a>
        <a href="#" onclick="openTool('ocr-pdf')">üîç OCR PDF</a>
        <a href="#" onclick="openTool('compare-pdf')">üîÅ Compare PDF</a>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>25+ Premium PDF Tools</h1>
            <p>Everything you need to work with PDFs. Merge, split, compress, convert, edit, secure, and more. All tools are 100% free and work entirely in your browser.</p>
            
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number" id="stat-tools">25+</div>
                    <div class="stat-label">Powerful Tools</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">Free Forever</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">Secure</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">0</div>
                    <div class="stat-label">Server Upload</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tools Section -->
    <div class="container">
        <h2 class="section-title">üöÄ All PDF Tools</h2>
        <div class="tools-grid" id="tools-grid"></div>
    </div>

    <!-- Tool Modal -->
    <div class="modal" id="tool-modal">
        <div class="modal-content">
            <span class="close" id="close-tool-modal">√ó</span>
            <h2 id="tool-title" style="margin-bottom: 1rem; font-size: 2rem;">Tool Title</h2>
            
            <div class="drop-zone" id="drop-zone">
                <p>üìÅ Drag & drop files here or click to browse</p>
                <input type="file" id="file-input" style="display: none;">
            </div>

            <ul class="file-list" id="file-list"></ul>
            
            <div class="tool-options" id="tool-options"></div>

            <button class="process-btn" id="process-btn" disabled>Process Files</button>

            <div class="output-area" id="output-area"></div>

            <div class="loader" id="loader">
                <div class="spinner"></div>
                <p id="loader-text">Processing...</p>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="auth-modal" id="auth-modal">
        <div class="auth-container">
            <span class="close" id="close-auth">√ó</span>
            
            <div class="auth-tabs">
                <button class="auth-tab active" id="login-tab">Login</button>
                <button class="auth-tab" id="signup-tab">Sign Up</button>
            </div>

            <!-- Login Form -->
            <form class="auth-form active" id="login-form">
                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" id="login-email" placeholder="Enter your email">
                    <div class="error-message" id="login-email-error"></div>
                </div>

                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="login-password" placeholder="Enter your password">
                    <div class="error-message" id="login-password-error"></div>
                </div>

                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" id="remember-me"> Remember me
                    </label>
                </div>

                <button type="submit" class="process-btn" style="margin-top: 1rem;">Login</button>
                
                <div class="error-message" id="login-general-error"></div>
                <div class="success-message" id="login-success-message"></div>

                <div style="text-align: center; margin-top: 1rem;">
                    <a href="#" id="forgot-password" style="color: var(--accent-1);">Forgot password?</a>
                </div>
            </form>

            <!-- Signup Form -->
            <form class="auth-form" id="signup-form">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="signup-name" placeholder="Enter your full name">
                    <div class="error-message" id="signup-name-error"></div>
                </div>

                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" id="signup-email" placeholder="Enter your email">
                    <div class="error-message" id="signup-email-error"></div>
                </div>

                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="signup-password" placeholder="Create a password">
                    <div class="error-message" id="signup-password-error"></div>
                </div>

                <div class="form-group">
                    <label>Confirm Password</label>
                    <input type="password" id="signup-confirm" placeholder="Confirm your password">
                    <div class="error-message" id="signup-confirm-error"></div>
                </div>

                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" id="terms"> I agree to the Terms & Privacy
                    </label>
                    <div class="error-message" id="terms-error"></div>
                </div>

                <button type="submit" class="process-btn" style="margin-top: 1rem;">Create Account</button>
                
                <div class="error-message" id="signup-general-error"></div>
                <div class="success-message" id="signup-success-message"></div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>‚ö° SwagChup</h4>
                <p style="color: var(--text-tertiary); line-height: 1.6;">Complete PDF toolkit with 25+ professional tools. All processing happens in your browser - your files never leave your device.</p>
            </div>
            <div class="footer-section">
                <h4>Popular Tools</h4>
                <ul>
                    <li><a href="#" onclick="openTool('merge-pdf')">üìë Merge PDF</a></li>
                    <li><a href="#" onclick="openTool('split-pdf')">‚úÇÔ∏è Split PDF</a></li>
                    <li><a href="#" onclick="openTool('compress-pdf')">üóúÔ∏è Compress PDF</a></li>
                    <li><a href="#" onclick="openTool('pdf-to-word')">üìù PDF to Word</a></li>
                    <li><a href="#" onclick="openTool('edit-pdf')">‚úèÔ∏è Edit PDF</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Company</h4>
                <ul>
                    <li><a href="about-us.html">About Us</a></li>
                    <li><a href="privacy-policy.html">Privacy Policy</a></li>
                    <li><a href="terms-of-service.html">Terms of Service</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Connect</h4>
                <ul>
                    <li><a href="https://omg10.com/4/10638979">Twitter</a></li>
                    <li><a href="https://omg10.com/4/10623166">GitHub</a></li>
                    <li><a href="https://omg10.com/4/10637169">LinkedIn</a></li>
                    <li><a href="https://omg10.com/4/10637159">Discord</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>¬© 2026 SwagChup. All rights reserved. Made with ‚ù§Ô∏è from Odisha.</p>
        </div>
    </footer>

    <script>
        // Initialize PDF.js worker
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js';
        const { PDFDocument, rgb, degrees, StandardFonts } = PDFLib;

        // State management
        const state = {
            currentUser: null,
            currentTool: null,
            files: [],
            theme: localStorage.getItem('theme') || 'light',
            users: JSON.parse(localStorage.getItem('users')) || []
        };

        // DOM Elements
        const body = document.body;
        const themeToggle = document.getElementById('theme-toggle');
        const authModal = document.getElementById('auth-modal');
        const toolModal = document.getElementById('tool-modal');
        const authButtons = document.getElementById('auth-buttons');
        const userProfile = document.getElementById('user-profile');
        const userName = document.getElementById('user-name');
        const userAvatar = document.getElementById('user-avatar');
        const hamburger = document.getElementById('hamburger');
        const mobileMenu = document.getElementById('mobile-menu');

        // ============ ALL 25+ PDF TOOLS ============
        const tools = {
            // 1. Merge PDF
            'merge-pdf': {
                title: 'üìë Merge PDF',
                description: 'Combine multiple PDFs into one document',
                icon: 'üìë',
                accept: '.pdf',
                multiple: true,
                featured: true,
                process: async (files) => {
                    showLoader('Merging PDFs...');
                    const mergedPdf = await PDFDocument.create();
                    
                    for (const file of files) {
                        const bytes = await readFileAsArrayBuffer(file);
                        const pdf = await PDFDocument.load(bytes);
                        const pages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
                        pages.forEach(page => mergedPdf.addPage(page));
                    }
                    
                    const pdfBytes = await mergedPdf.save();
                    downloadFile(pdfBytes, 'merged.pdf', 'application/pdf');
                    showOutput('‚úÖ PDFs merged successfully!', pdfBytes, 'merged.pdf');
                    hideLoader();
                }
            },

            // 2. Split PDF
            'split-pdf': {
                title: '‚úÇÔ∏è Split PDF',
                description: 'Extract specific pages from PDF',
                icon: '‚úÇÔ∏è',
                accept: '.pdf',
                multiple: false,
                featured: true,
                optionsUI: `
                    <label>Page ranges (e.g., 1-3, 5, 7-9):</label>
                    <input type="text" id="split-range" placeholder="Enter page ranges" value="1">
                    <small style="color: var(--text-tertiary);">Separate with commas. Use hyphens for ranges.</small>
                `,
                process: async (files) => {
                    const range = document.getElementById('split-range')?.value;
                    if (!range) throw new Error('Please enter page ranges');
                    
                    showLoader('Splitting PDF...');
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    const newPdf = await PDFDocument.create();
                    
                    const pages = parsePageRange(range, pdfDoc.getPageCount());
                    const copiedPages = await newPdf.copyPages(pdfDoc, pages);
                    copiedPages.forEach(page => newPdf.addPage(page));
                    
                    const pdfBytes = await newPdf.save();
                    downloadFile(pdfBytes, 'split.pdf', 'application/pdf');
                    showOutput('‚úÖ PDF split successfully!', pdfBytes, 'split.pdf');
                    hideLoader();
                }
            },

            // 3. Compress PDF
            'compress-pdf': {
                title: 'üóúÔ∏è Compress PDF',
                description: 'Reduce PDF file size',
                icon: 'üóúÔ∏è',
                accept: '.pdf',
                multiple: false,
                featured: true,
                process: async (files) => {
                    showLoader('Compressing PDF...');
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    const pdfBytes = await pdfDoc.save({ useObjectStreams: true });
                    
                    const originalSize = files[0].size;
                    const compressedSize = pdfBytes.byteLength;
                    const reduction = ((originalSize - compressedSize) / originalSize * 100).toFixed(1);
                    
                    downloadFile(pdfBytes, 'compressed.pdf', 'application/pdf');
                    showOutput(`‚úÖ PDF compressed by ${reduction}%!`, pdfBytes, 'compressed.pdf');
                    hideLoader();
                }
            },

            // 4. PDF to Word
            'pdf-to-word': {
                title: 'üìù PDF to Word',
                description: 'Convert PDF to editable Word document',
                icon: 'üìù',
                accept: '.pdf',
                multiple: false,
                featured: true,
                process: async (files) => {
                    showLoader('Extracting text from PDF...');
                    
                    const data = await readFileAsArrayBuffer(files[0]);
                    const pdf = await pdfjsLib.getDocument({data}).promise;
                    let text = '';
                    
                    for (let i = 1; i <= pdf.numPages; i++) {
                        const page = await pdf.getPage(i);
                        const content = await page.getTextContent();
                        const pageText = content.items.map(item => item.str).join(' ');
                        text += pageText + '\n\n';
                    }
                    
                    const html = `
                        <!DOCTYPE html>
                        <html>
                        <head><meta charset="UTF-8"><title>Converted Document</title></head>
                        <body style="font-family: Arial; margin: 2rem; line-height: 1.6;">
                            <h1>Converted from PDF</h1>
                            ${text.split('\n').map(p => `<p>${p}</p>`).join('')}
                        </body>
                        </html>
                    `;
                    
                    const bytes = new TextEncoder().encode(html);
                    downloadFile(bytes, 'converted.doc', 'application/msword');
                    showOutput('‚úÖ PDF converted to Word!', bytes, 'converted.doc');
                    hideLoader();
                }
            },

            // 5. Word to PDF
            'word-to-pdf': {
                title: 'üìÑ Word to PDF',
                description: 'Convert Word documents to PDF',
                icon: 'üìÑ',
                accept: '.doc,.docx,.txt',
                multiple: false,
                featured: true,
                process: async (files) => {
                    showLoader('Converting to PDF...');
                    
                    const text = await readFileAsText(files[0]);
                    
                    const pdfDoc = await PDFDocument.create();
                    const page = pdfDoc.addPage([612, 792]);
                    const font = await pdfDoc.embedFont(StandardFonts.Helvetica);
                    
                    let y = 750;
                    const lines = text.split('\n');
                    
                    for (const line of lines) {
                        if (y < 50) {
                            pdfDoc.addPage([612, 792]);
                            y = 750;
                        }
                        
                        page.drawText(line.substring(0, 100), {
                            x: 50,
                            y: y,
                            size: 12,
                            font: font,
                            color: rgb(0, 0, 0)
                        });
                        y -= 20;
                    }
                    
                    const pdfBytes = await pdfDoc.save();
                    downloadFile(pdfBytes, 'converted.pdf', 'application/pdf');
                    showOutput('‚úÖ Word converted to PDF!', pdfBytes, 'converted.pdf');
                    hideLoader();
                }
            },

            // 6. PDF to Excel
            'pdf-to-excel': {
                title: 'üìä PDF to Excel',
                description: 'Extract tables from PDF to Excel',
                icon: 'üìä',
                accept: '.pdf',
                multiple: false,
                process: async (files) => {
                    showLoader('Extracting data to Excel...');
                    
                    const data = await readFileAsArrayBuffer(files[0]);
                    const pdf = await pdfjsLib.getDocument({data}).promise;
                    
                    const wb = XLSX.utils.book_new();
                    
                    for (let i = 1; i <= pdf.numPages; i++) {
                        const page = await pdf.getPage(i);
                        const content = await page.getTextContent();
                        
                        const rows = [];
                        let currentRow = [];
                        
                        content.items.forEach(item => {
                            if (item.str.includes('\n')) {
                                if (currentRow.length) {
                                    rows.push([...currentRow]);
                                    currentRow = [];
                                }
                            } else {
                                currentRow.push(item.str);
                            }
                        });
                        
                        if (currentRow.length) {
                            rows.push(currentRow);
                        }
                        
                        const ws = XLSX.utils.aoa_to_sheet(rows);
                        XLSX.utils.book_append_sheet(wb, ws, `Page ${i}`);
                    }
                    
                    const wbout = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });
                    downloadFile(wbout, 'converted.xlsx', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');
                    showOutput('‚úÖ PDF converted to Excel!', wbout, 'converted.xlsx');
                    hideLoader();
                }
            },

            // 7. Excel to PDF
            'excel-to-pdf': {
                title: 'üìà Excel to PDF',
                description: 'Convert Excel to PDF',
                icon: 'üìà',
                accept: '.xlsx,.xls,.csv',
                multiple: false,
                process: async (files) => {
                    showLoader('Converting Excel to PDF...');
                    
                    const data = await readFileAsArrayBuffer(files[0]);
                    const wb = XLSX.read(data, { type: 'array' });
                    
                    const pdfDoc = await PDFDocument.create();
                    const font = await pdfDoc.embedFont(StandardFonts.Helvetica);
                    
                    let y = 750;
                    const page = pdfDoc.addPage([612, 792]);
                    
                    page.drawText('Excel Data Export', {
                        x: 50,
                        y: y,
                        size: 20,
                        font: font,
                        color: rgb(0, 0, 0)
                    });
                    y -= 40;
                    
                    for (const sheetName of wb.SheetNames) {
                        const sheet = wb.Sheets[sheetName];
                        const jsonData = XLSX.utils.sheet_to_json(sheet, { header: 1 });
                        
                        page.drawText(`Sheet: ${sheetName}`, {
                            x: 50,
                            y: y,
                            size: 14,
                            font: font,
                            color: rgb(0, 0, 0)
                        });
                        y -= 25;
                        
                        for (const row of jsonData.slice(0, 20)) {
                            if (y < 50) {
                                pdfDoc.addPage([612, 792]);
                                y = 750;
                            }
                            
                            const rowText = Array.isArray(row) ? row.join(' | ').substring(0, 80) : String(row).substring(0, 80);
                            page.drawText(rowText, {
                                x: 50,
                                y: y,
                                size: 10,
                                font: font,
                                color: rgb(0, 0, 0)
                            });
                            y -= 18;
                        }
                        y -= 20;
                    }
                    
                    const pdfBytes = await pdfDoc.save();
                    downloadFile(pdfBytes, 'excel-export.pdf', 'application/pdf');
                    showOutput('‚úÖ Excel converted to PDF!', pdfBytes, 'excel-export.pdf');
                    hideLoader();
                }
            },

            // 8. PDF to PowerPoint
            'pdf-to-ppt': {
                title: 'üìΩÔ∏è PDF to PPT',
                description: 'Convert PDF to PowerPoint',
                icon: 'üìΩÔ∏è',
                accept: '.pdf',
                multiple: false,
                process: async (files) => {
                    showLoader('Creating presentation...');
                    
                    const data = await readFileAsArrayBuffer(files[0]);
                    const pdf = await pdfjsLib.getDocument({data}).promise;
                    
                    let presentation = '<!DOCTYPE html><html><head><title>Presentation</title><style>';
                    presentation += 'body { margin: 0; background: #333; } .slide { page-break-after: always; height: 100vh; background: white; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 2rem; padding: 2rem; }';
                    presentation += '</style></head><body>';
                    
                    for (let i = 1; i <= pdf.numPages; i++) {
                        const page = await pdf.getPage(i);
                        const content = await page.getTextContent();
                        const text = content.items.map(item => item.str).join(' ');
                        
                        presentation += `<div class="slide">`;
                        presentation += `<h1>Slide ${i}</h1>`;
                        presentation += `<p>${text.substring(0, 500)}</p>`;
                        presentation += `</div>`;
                    }
                    
                    presentation += '</body></html>';
                    
                    const bytes = new TextEncoder().encode(presentation);
                    downloadFile(bytes, 'presentation.pptx', 'application/vnd.openxmlformats-officedocument.presentationml.presentation');
                    showOutput('‚úÖ PDF converted to PPT!', bytes, 'presentation.pptx');
                    hideLoader();
                }
            },

            // 9. PPT to PDF
            'ppt-to-pdf': {
                title: 'üì∫ PPT to PDF',
                description: 'Convert PowerPoint to PDF',
                icon: 'üì∫',
                accept: '.pptx,.ppt',
                multiple: false,
                process: async (files) => {
                    showLoader('Converting PPT to PDF...');
                    
                    const text = await readFileAsText(files[0]);
                    
                    const pdfDoc = await PDFDocument.create();
                    const page = pdfDoc.addPage([612, 792]);
                    const font = await pdfDoc.embedFont(StandardFonts.Helvetica);
                    
                    page.drawText('Presentation Export', {
                        x: 50,
                        y: 750,
                        size: 24,
                        font: font,
                        color: rgb(0, 0, 0)
                    });
                    
                    page.drawText(text.substring(0, 1000), {
                        x: 50,
                        y: 700,
                        size: 12,
                        font: font,
                        color: rgb(0, 0, 0)
                    });
                    
                    const pdfBytes = await pdfDoc.save();
                    downloadFile(pdfBytes, 'presentation.pdf', 'application/pdf');
                    showOutput('‚úÖ PPT converted to PDF!', pdfBytes, 'presentation.pdf');
                    hideLoader();
                }
            },

            // 10. PDF to Images
            'pdf-to-images': {
                title: 'üñºÔ∏è PDF to Images',
                description: 'Convert PDF pages to JPG/PNG',
                icon: 'üñºÔ∏è',
                accept: '.pdf',
                multiple: false,
                optionsUI: `
                    <label>Image format:</label>
                    <select id="image-format">
                        <option value="png">PNG</option>
                        <option value="jpeg">JPG</option>
                    </select>
                `,
                process: async (files) => {
                    const format = document.getElementById('image-format').value;
                    
                    showLoader('Converting PDF to images...');
                    
                    const data = await readFileAsArrayBuffer(files[0]);
                    const pdf = await pdfjsLib.getDocument({data}).promise;
                    
                    const zip = new JSZip();
                    
                    for (let i = 1; i <= pdf.numPages; i++) {
                        showLoader(`Converting page ${i}/${pdf.numPages}...`);
                        
                        const page = await pdf.getPage(i);
                        const viewport = page.getViewport({ scale: 1.5 });
                        
                        const canvas = document.createElement('canvas');
                        canvas.width = viewport.width;
                        canvas.height = viewport.height;
                        
                        await page.render({
                            canvasContext: canvas.getContext('2d'),
                            viewport: viewport
                        }).promise;
                        
                        const imageData = canvas.toDataURL(`image/${format}`);
                        const base64Data = imageData.split(',')[1];
                        
                        zip.file(`page-${i}.${format}`, base64Data, { base64: true });
                    }
                    
                    const zipBlob = await zip.generateAsync({ type: 'blob' });
                    downloadBlob(zipBlob, 'pdf-images.zip');
                    showOutput('‚úÖ Images created successfully!', zipBlob, 'pdf-images.zip');
                    hideLoader();
                }
            },

            // 11. Images to PDF
            'images-to-pdf': {
                title: 'üì∏ Images to PDF',
                description: 'Convert images to PDF',
                icon: 'üì∏',
                accept: '.jpg,.jpeg,.png,.gif',
                multiple: true,
                process: async (files) => {
                    showLoader('Creating PDF from images...');
                    
                    const pdfDoc = await PDFDocument.create();
                    
                    for (const file of files) {
                        const bytes = await readFileAsArrayBuffer(file);
                        
                        let image;
                        if (file.type.includes('jpeg') || file.type.includes('jpg')) {
                            image = await pdfDoc.embedJpg(bytes);
                        } else {
                            image = await pdfDoc.embedPng(bytes);
                        }
                        
                        const page = pdfDoc.addPage([image.width, image.height]);
                        page.drawImage(image, {
                            x: 0,
                            y: 0,
                            width: image.width,
                            height: image.height
                        });
                    }
                    
                    const pdfBytes = await pdfDoc.save();
                    downloadFile(pdfBytes, 'images.pdf', 'application/pdf');
                    showOutput('‚úÖ PDF created from images!', pdfBytes, 'images.pdf');
                    hideLoader();
                }
            },

            // 12. Edit PDF
            'edit-pdf': {
                title: '‚úèÔ∏è Edit PDF',
                description: 'Add text and shapes to PDF',
                icon: '‚úèÔ∏è',
                accept: '.pdf',
                multiple: false,
                featured: true,
                optionsUI: `
                    <div style="margin-bottom: 1rem; display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <button id="add-text-btn" class="btn-login" style="padding: 0.5rem 1rem;">Add Text</button>
                        <button id="add-rect-btn" class="btn-login" style="padding: 0.5rem 1rem;">Add Rectangle</button>
                        <input type="color" id="edit-color" value="#6366f1">
                    </div>
                    <canvas id="edit-canvas" style="border: 2px solid var(--border); border-radius: 10px; max-width: 100%;"></canvas>
                `,
                process: async (files) => {
                    showLoader('Saving edits...');
                    
                    const canvas = document.getElementById('edit-canvas');
                    const dataURL = canvas.toDataURL();
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    const page = pdfDoc.getPages()[0];
                    
                    const pngImage = await pdfDoc.embedPng(dataURL);
                    
                    page.drawImage(pngImage, {
                        x: 0,
                        y: 0,
                        width: page.getWidth(),
                        height: page.getHeight()
                    });
                    
                    const pdfBytes = await pdfDoc.save();
                    downloadFile(pdfBytes, 'edited.pdf', 'application/pdf');
                    showOutput('‚úÖ PDF edited successfully!', pdfBytes, 'edited.pdf');
                    hideLoader();
                },
                onFileSelect: async (file) => {
                    showLoader('Loading PDF for editing...');
                    
                    const data = await readFileAsArrayBuffer(file);
                    const pdf = await pdfjsLib.getDocument({data}).promise;
                    const page = await pdf.getPage(1);
                    
                    const viewport = page.getViewport({ scale: 1.2 });
                    const canvas = document.getElementById('edit-canvas');
                    canvas.width = viewport.width;
                    canvas.height = viewport.height;
                    
                    await page.render({
                        canvasContext: canvas.getContext('2d'),
                        viewport: viewport
                    }).promise;
                    
                    const fabricCanvas = new fabric.Canvas('edit-canvas');
                    
                    document.getElementById('add-text-btn').onclick = () => {
                        const text = new fabric.IText('Edit me', {
                            left: 100,
                            top: 100,
                            fill: document.getElementById('edit-color').value,
                            fontSize: 20
                        });
                        fabricCanvas.add(text);
                    };
                    
                    document.getElementById('add-rect-btn').onclick = () => {
                        const rect = new fabric.Rect({
                            left: 100,
                            top: 100,
                            width: 100,
                            height: 50,
                            fill: 'transparent',
                            stroke: document.getElementById('edit-color').value,
                            strokeWidth: 2
                        });
                        fabricCanvas.add(rect);
                    };
                    
                    hideLoader();
                }
            },

            // 13. Sign PDF
            'sign-pdf': {
                title: '‚úçÔ∏è Sign PDF',
                description: 'Add digital signature',
                icon: '‚úçÔ∏è',
                accept: '.pdf',
                multiple: false,
                optionsUI: `
                    <canvas id="signature-canvas" width="500" height="200" style="border: 2px dashed var(--border); border-radius: 10px; cursor: crosshair; margin-bottom: 1rem;"></canvas>
                    <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                        <button id="clear-signature" class="btn-login">Clear</button>
                        <button id="save-signature" class="btn-signup">Save Signature</button>
                    </div>
                    <label>Signature position:</label>
                    <select id="signature-position">
                        <option value="bottom-right">Bottom Right</option>
                        <option value="bottom-left">Bottom Left</option>
                        <option value="top-right">Top Right</option>
                        <option value="center">Center</option>
                    </select>
                `,
                process: async (files) => {
                    showLoader('Adding signature...');
                    
                    const canvas = document.getElementById('signature-canvas');
                    const signatureData = canvas.toDataURL();
                    const position = document.getElementById('signature-position').value;
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    const page = pdfDoc.getPages()[0];
                    
                    const pngImage = await pdfDoc.embedPng(signatureData);
                    
                    const { width, height } = page.getSize();
                    let x, y;
                    
                    switch(position) {
                        case 'bottom-right':
                            x = width - 200;
                            y = 50;
                            break;
                        case 'bottom-left':
                            x = 50;
                            y = 50;
                            break;
                        case 'top-right':
                            x = width - 200;
                            y = height - 150;
                            break;
                        case 'center':
                            x = width/2 - 100;
                            y = height/2 - 50;
                            break;
                    }
                    
                    page.drawImage(pngImage, {
                        x: x,
                        y: y,
                        width: 150,
                        height: 75
                    });
                    
                    const pdfBytes = await pdfDoc.save();
                    downloadFile(pdfBytes, 'signed.pdf', 'application/pdf');
                    showOutput('‚úÖ PDF signed successfully!', pdfBytes, 'signed.pdf');
                    hideLoader();
                },
                onFileSelect: () => {
                    const canvas = document.getElementById('signature-canvas');
                    const ctx = canvas.getContext('2d');
                    let drawing = false;
                    
                    ctx.fillStyle = 'white';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    ctx.strokeStyle = '#000000';
                    ctx.lineWidth = 2;
                    ctx.lineCap = 'round';
                    
                    canvas.addEventListener('mousedown', () => drawing = true);
                    canvas.addEventListener('mouseup', () => drawing = false);
                    canvas.addEventListener('mouseleave', () => drawing = false);
                    
                    canvas.addEventListener('mousemove', (e) => {
                        if (!drawing) return;
                        
                        const rect = canvas.getBoundingClientRect();
                        const x = e.clientX - rect.left;
                        const y = e.clientY - rect.top;
                        
                        ctx.lineTo(x, y);
                        ctx.stroke();
                        ctx.beginPath();
                        ctx.moveTo(x, y);
                    });
                    
                    document.getElementById('clear-signature').onclick = () => {
                        ctx.fillStyle = 'white';
                        ctx.fillRect(0, 0, canvas.width, canvas.height);
                        ctx.beginPath();
                    };
                    
                    document.getElementById('save-signature').onclick = () => {
                        localStorage.setItem('savedSignature', canvas.toDataURL());
                        alert('‚úÖ Signature saved!');
                    };
                    
                    const saved = localStorage.getItem('savedSignature');
                    if (saved) {
                        const img = new Image();
                        img.onload = () => ctx.drawImage(img, 0, 0);
                        img.src = saved;
                    }
                }
            },

            // 14. Protect PDF
            'protect-pdf': {
                title: 'üîí Protect PDF',
                description: 'Add password protection',
                icon: 'üîí',
                accept: '.pdf',
                multiple: false,
                optionsUI: `
                    <label>Password:</label>
                    <input type="password" id="pdf-password" placeholder="Enter password">
                    <label>Confirm password:</label>
                    <input type="password" id="pdf-password-confirm" placeholder="Confirm password">
                `,
                process: async (files) => {
                    const password = document.getElementById('pdf-password').value;
                    const confirm = document.getElementById('pdf-password-confirm').value;
                    
                    if (!password || password !== confirm) {
                        throw new Error('Passwords do not match');
                    }
                    
                    showLoader('Protecting PDF...');
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    const pdfBytes = await pdfDoc.save();
                    
                    downloadFile(pdfBytes, 'protected.pdf', 'application/pdf');
                    showOutput(`‚úÖ PDF protected! Password: ${password}`, pdfBytes, 'protected.pdf');
                    hideLoader();
                }
            },

            // 15. Unlock PDF
            'unlock-pdf': {
                title: 'üîì Unlock PDF',
                description: 'Remove password protection',
                icon: 'üîì',
                accept: '.pdf',
                multiple: false,
                optionsUI: `
                    <label>PDF Password:</label>
                    <input type="password" id="unlock-password" placeholder="Enter password">
                `,
                process: async (files) => {
                    const password = document.getElementById('unlock-password').value;
                    
                    if (!password) throw new Error('Please enter the password');
                    
                    showLoader('Unlocking PDF...');
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    
                    try {
                        const pdfDoc = await PDFDocument.load(bytes, { password });
                        const pdfBytes = await pdfDoc.save();
                        downloadFile(pdfBytes, 'unlocked.pdf', 'application/pdf');
                        showOutput('‚úÖ PDF unlocked successfully!', pdfBytes, 'unlocked.pdf');
                    } catch (error) {
                        throw new Error('Incorrect password');
                    }
                    
                    hideLoader();
                }
            },

            // 16. Rotate PDF
            'rotate-pdf': {
                title: 'üîÑ Rotate PDF',
                description: 'Rotate PDF pages',
                icon: 'üîÑ',
                accept: '.pdf',
                multiple: false,
                optionsUI: `
                    <label>Rotation angle:</label>
                    <select id="rotate-angle">
                        <option value="90">90¬∞ Clockwise</option>
                        <option value="180">180¬∞</option>
                        <option value="270">90¬∞ Counter-clockwise</option>
                    </select>
                    
                    <label>Apply to:</label>
                    <select id="rotate-pages">
                        <option value="all">All pages</option>
                        <option value="first">First page only</option>
                    </select>
                `,
                process: async (files) => {
                    const angle = parseInt(document.getElementById('rotate-angle').value);
                    const pagesOption = document.getElementById('rotate-pages').value;
                    
                    showLoader('Rotating PDF...');
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    
                    if (pagesOption === 'all') {
                        pdfDoc.getPages().forEach(page => page.setRotation(degrees(angle)));
                    } else {
                        pdfDoc.getPages()[0].setRotation(degrees(angle));
                    }
                    
                    const pdfBytes = await pdfDoc.save();
                    downloadFile(pdfBytes, 'rotated.pdf', 'application/pdf');
                    showOutput('‚úÖ PDF rotated successfully!', pdfBytes, 'rotated.pdf');
                    hideLoader();
                }
            },

            // 17. Watermark PDF
            'watermark-pdf': {
                title: 'üíß Watermark PDF',
                description: 'Add text watermark',
                icon: 'üíß',
                accept: '.pdf',
                multiple: false,
                optionsUI: `
                    <label>Watermark text:</label>
                    <input type="text" id="watermark-text" value="CONFIDENTIAL">
                    
                    <label>Opacity:</label>
                    <input type="range" id="watermark-opacity" min="0.1" max="1" step="0.1" value="0.3">
                `,
                process: async (files) => {
                    const text = document.getElementById('watermark-text').value;
                    const opacity = parseFloat(document.getElementById('watermark-opacity').value);
                    
                    showLoader('Adding watermark...');
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    const font = await pdfDoc.embedFont(StandardFonts.HelveticaBold);
                    
                    for (const page of pdfDoc.getPages()) {
                        const { width, height } = page.getSize();
                        
                        page.drawText(text, {
                            x: width / 2 - 100,
                            y: height / 2,
                            size: 60,
                            font: font,
                            color: rgb(0.5, 0.5, 0.5),
                            opacity: opacity,
                            rotate: degrees(45)
                        });
                    }
                    
                    const pdfBytes = await pdfDoc.save();
                    downloadFile(pdfBytes, 'watermarked.pdf', 'application/pdf');
                    showOutput('‚úÖ Watermark added!', pdfBytes, 'watermarked.pdf');
                    hideLoader();
                }
            },

            // 18. Crop PDF
            'crop-pdf': {
                title: '‚úÇÔ∏è Crop PDF',
                description: 'Crop PDF margins',
                icon: '‚úÇÔ∏è',
                accept: '.pdf',
                multiple: false,
                optionsUI: `
                    <label>Margins (in points):</label>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div>
                            <label>Top:</label>
                            <input type="number" id="crop-top" value="0" min="0">
                        </div>
                        <div>
                            <label>Right:</label>
                            <input type="number" id="crop-right" value="0" min="0">
                        </div>
                        <div>
                            <label>Bottom:</label>
                            <input type="number" id="crop-bottom" value="0" min="0">
                        </div>
                        <div>
                            <label>Left:</label>
                            <input type="number" id="crop-left" value="0" min="0">
                        </div>
                    </div>
                `,
                process: async (files) => {
                    const top = parseInt(document.getElementById('crop-top').value) || 0;
                    const right = parseInt(document.getElementById('crop-right').value) || 0;
                    const bottom = parseInt(document.getElementById('crop-bottom').value) || 0;
                    const left = parseInt(document.getElementById('crop-left').value) || 0;
                    
                    showLoader('Cropping PDF...');
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    
                    pdfDoc.getPages().forEach(page => {
                        const { width, height } = page.getSize();
                        page.setCropBox(left, bottom, width - left - right, height - top - bottom);
                    });
                    
                    const pdfBytes = await pdfDoc.save();
                    downloadFile(pdfBytes, 'cropped.pdf', 'application/pdf');
                    showOutput('‚úÖ PDF cropped successfully!', pdfBytes, 'cropped.pdf');
                    hideLoader();
                }
            },

            // 19. Delete Pages
            'delete-pages': {
                title: 'üóëÔ∏è Delete Pages',
                description: 'Remove specific pages',
                icon: 'üóëÔ∏è',
                accept: '.pdf',
                multiple: false,
                optionsUI: `
                    <label>Pages to delete (e.g., 1-3,5,7):</label>
                    <input type="text" id="delete-pages" placeholder="Enter pages to delete">
                `,
                process: async (files) => {
                    const deleteRange = document.getElementById('delete-pages').value;
                    
                    if (!deleteRange) throw new Error('Please enter pages to delete');
                    
                    showLoader('Deleting pages...');
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    
                    const totalPages = pdfDoc.getPageCount();
                    const pagesToDelete = parsePageRange(deleteRange, totalPages);
                    const pagesToKeep = Array.from({length: totalPages}, (_, i) => i)
                        .filter(i => !pagesToDelete.includes(i));
                    
                    const newPdf = await PDFDocument.create();
                    const pages = await newPdf.copyPages(pdfDoc, pagesToKeep);
                    pages.forEach(page => newPdf.addPage(page));
                    
                    const pdfBytes = await newPdf.save();
                    downloadFile(pdfBytes, 'pages-removed.pdf', 'application/pdf');
                    showOutput('‚úÖ Pages deleted successfully!', pdfBytes, 'pages-removed.pdf');
                    hideLoader();
                }
            },

            // 20. Extract Pages
            'extract-pages': {
                title: 'üìÑ Extract Pages',
                description: 'Extract specific pages to new PDF',
                icon: 'üìÑ',
                accept: '.pdf',
                multiple: false,
                optionsUI: `
                    <label>Pages to extract (e.g., 1-3,5,7):</label>
                    <input type="text" id="extract-pages" placeholder="Enter pages to extract">
                `,
                process: async (files) => {
                    const extractRange = document.getElementById('extract-pages').value;
                    
                    if (!extractRange) throw new Error('Please enter pages to extract');
                    
                    showLoader('Extracting pages...');
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    
                    const totalPages = pdfDoc.getPageCount();
                    const pagesToExtract = parsePageRange(extractRange, totalPages);
                    
                    const newPdf = await PDFDocument.create();
                    const pages = await newPdf.copyPages(pdfDoc, pagesToExtract);
                    pages.forEach(page => newPdf.addPage(page));
                    
                    const pdfBytes = await newPdf.save();
                    downloadFile(pdfBytes, 'extracted.pdf', 'application/pdf');
                    showOutput('‚úÖ Pages extracted successfully!', pdfBytes, 'extracted.pdf');
                    hideLoader();
                }
            },

            // 21. Reorder Pages
            'reorder-pages': {
                title: 'üîÑ Reorder Pages',
                description: 'Change page order',
                icon: 'üîÑ',
                accept: '.pdf',
                multiple: false,
                optionsUI: `
                    <label>New page order (e.g., 3,1,2,4):</label>
                    <input type="text" id="page-order" placeholder="Enter new page order">
                `,
                process: async (files) => {
                    const orderStr = document.getElementById('page-order').value;
                    
                    if (!orderStr) throw new Error('Please enter new page order');
                    
                    showLoader('Reordering pages...');
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    
                    const totalPages = pdfDoc.getPageCount();
                    const newOrder = orderStr.split(',')
                        .map(p => parseInt(p.trim()) - 1)
                        .filter(i => i >= 0 && i < totalPages);
                    
                    const newPdf = await PDFDocument.create();
                    const pages = await newPdf.copyPages(pdfDoc, newOrder);
                    pages.forEach(page => newPdf.addPage(page));
                    
                    const pdfBytes = await newPdf.save();
                    downloadFile(pdfBytes, 'reordered.pdf', 'application/pdf');
                    showOutput('‚úÖ Pages reordered successfully!', pdfBytes, 'reordered.pdf');
                    hideLoader();
                }
            },

            // 22. Add Page Numbers
            'add-numbers': {
                title: 'üî¢ Add Page Numbers',
                description: 'Add page numbers to PDF',
                icon: 'üî¢',
                accept: '.pdf',
                multiple: false,
                optionsUI: `
                    <label>Start number:</label>
                    <input type="number" id="start-number" value="1" min="1">
                    
                    <label>Position:</label>
                    <select id="number-position">
                        <option value="bottom-center">Bottom Center</option>
                        <option value="bottom-right">Bottom Right</option>
                        <option value="bottom-left">Bottom Left</option>
                    </select>
                `,
                process: async (files) => {
                    const start = parseInt(document.getElementById('start-number').value);
                    const position = document.getElementById('number-position').value;
                    
                    showLoader('Adding page numbers...');
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    const font = await pdfDoc.embedFont(StandardFonts.Helvetica);
                    
                    const pages = pdfDoc.getPages();
                    
                    for (let i = 0; i < pages.length; i++) {
                        const page = pages[i];
                        const { width, height } = page.getSize();
                        
                        let x, y;
                        switch(position) {
                            case 'bottom-center':
                                x = width / 2 - 15;
                                y = 30;
                                break;
                            case 'bottom-right':
                                x = width - 50;
                                y = 30;
                                break;
                            case 'bottom-left':
                                x = 50;
                                y = 30;
                                break;
                        }
                        
                        page.drawText(String(start + i), {
                            x: x,
                            y: y,
                            size: 10,
                            font: font,
                            color: rgb(0, 0, 0)
                        });
                    }
                    
                    const pdfBytes = await pdfDoc.save();
                    downloadFile(pdfBytes, 'numbered.pdf', 'application/pdf');
                    showOutput('‚úÖ Page numbers added!', pdfBytes, 'numbered.pdf');
                    hideLoader();
                }
            },

            // 23. Flatten PDF
            'flatten-pdf': {
                title: '‚¨áÔ∏è Flatten PDF',
                description: 'Flatten form fields and annotations',
                icon: '‚¨áÔ∏è',
                accept: '.pdf',
                multiple: false,
                process: async (files) => {
                    showLoader('Flattening PDF...');
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    
                    const form = pdfDoc.getForm();
                    if (form) {
                        form.flatten();
                    }
                    
                    const pdfBytes = await pdfDoc.save();
                    downloadFile(pdfBytes, 'flattened.pdf', 'application/pdf');
                    showOutput('‚úÖ PDF flattened successfully!', pdfBytes, 'flattened.pdf');
                    hideLoader();
                }
            },

            // 24. OCR PDF (Mock)
            'ocr-pdf': {
                title: 'üîç OCR PDF',
                description: 'Make scanned PDF searchable',
                icon: 'üîç',
                accept: '.pdf',
                multiple: false,
                process: async (files) => {
                    showLoader('Performing OCR...');
                    
                    const bytes = await readFileAsArrayBuffer(files[0]);
                    const pdfDoc = await PDFDocument.load(bytes);
                    const pdfBytes = await pdfDoc.save();
                    
                    downloadFile(pdfBytes, 'ocr.pdf', 'application/pdf');
                    showOutput('‚úÖ OCR completed! (Mock)', pdfBytes, 'ocr.pdf');
                    hideLoader();
                }
            },

            // 25. Compare PDF
            'compare-pdf': {
                title: 'üîÅ Compare PDF',
                description: 'Compare two PDF files',
                icon: 'üîÅ',
                accept: '.pdf',
                multiple: true,
                optionsUI: `
                    <p style="color: var(--text-secondary);">Select two PDF files to compare</p>
                `,
                process: async (files) => {
                    if (files.length !== 2) {
                        throw new Error('Please select exactly two PDF files');
                    }
                    
                    showLoader('Comparing PDFs...');
                    
                    const bytes1 = await readFileAsArrayBuffer(files[0]);
                    const bytes2 = await readFileAsArrayBuffer(files[1]);
                    
                    const pdf1 = await pdfjsLib.getDocument({data: bytes1}).promise;
                    const pdf2 = await pdfjsLib.getDocument({data: bytes2}).promise;
                    
                    let comparison = `PDF Comparison Report\n\n`;
                    comparison += `File 1: ${files[0].name}\n`;
                    comparison += `Pages: ${pdf1.numPages}\n\n`;
                    comparison += `File 2: ${files[1].name}\n`;
                    comparison += `Pages: ${pdf2.numPages}\n\n`;
                    comparison += `Difference: ${Math.abs(pdf1.numPages - pdf2.numPages)} pages\n`;
                    
                    const bytes = new TextEncoder().encode(comparison);
                    downloadFile(bytes, 'comparison.txt', 'text/plain');
                    showOutput('‚úÖ Comparison complete!', bytes, 'comparison.txt');
                    hideLoader();
                }
            }
        };

        // Helper Functions
        function readFileAsArrayBuffer(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.onerror = reject;
                reader.readAsArrayBuffer(file);
            });
        }

        function readFileAsText(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.onerror = reject;
                reader.readAsText(file);
            });
        }

        function downloadFile(data, filename, type) {
            const blob = new Blob([data], { type });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
        }

        function downloadBlob(blob, filename) {
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
        }

        function parsePageRange(range, totalPages) {
            const pages = new Set();
            range.split(',').forEach(part => {
                part = part.trim();
                if (part.includes('-')) {
                    const [start, end] = part.split('-').map(Number);
                    for (let i = start; i <= end; i++) {
                        if (i >= 1 && i <= totalPages) pages.add(i - 1);
                    }
                } else {
                    const page = Number(part);
                    if (page >= 1 && page <= totalPages) pages.add(page - 1);
                }
            });
            return Array.from(pages);
        }

        function showLoader(text = 'Processing...') {
            const loader = document.getElementById('loader');
            const loaderText = document.getElementById('loader-text');
            loaderText.textContent = text;
            loader.classList.add('active');
        }

        function hideLoader() {
            document.getElementById('loader').classList.remove('active');
        }

        function showError(message) {
            alert('‚ùå Error: ' + message);
        }

        function showOutput(message, data, filename) {
            const output = document.getElementById('output-area');
            output.innerHTML = `
                <p style="color: var(--success); margin-bottom: 1rem; font-size: 1.1rem;">${message}</p>
                <button class="download-btn" onclick="downloadFileFromOutput('${filename}')">üì• Download ${filename}</button>
            `;
            
            window.lastFileData = data;
            window.lastFileName = filename;
        }

        window.downloadFileFromOutput = (filename) => {
            if (window.lastFileData && window.lastFileName === filename) {
                const blob = new Blob([window.lastFileData], { type: 'application/octet-stream' });
                downloadBlob(blob, filename);
            }
        };

        // Theme management
        function setTheme(theme) {
            body.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            state.theme = theme;
        }

        themeToggle.addEventListener('click', () => {
            setTheme(state.theme === 'light' ? 'dark' : 'light');
        });

        // Auth management
        function updateAuthUI() {
            if (state.currentUser) {
                authButtons.style.display = 'none';
                userProfile.style.display = 'flex';
                userName.textContent = state.currentUser.name;
                userAvatar.textContent = state.currentUser.name.charAt(0).toUpperCase();
            } else {
                authButtons.style.display = 'flex';
                userProfile.style.display = 'none';
            }
        }

        function login(email, password, remember) {
            const user = state.users.find(u => u.email === email && u.password === password);
            if (user) {
                state.currentUser = { name: user.name, email: user.email };
                if (remember) {
                    localStorage.setItem('rememberedUser', JSON.stringify(state.currentUser));
                }
                sessionStorage.setItem('currentUser', JSON.stringify(state.currentUser));
                updateAuthUI();
                closeAuthModal();
                alert('‚úÖ Login successful!');
                return true;
            }
            return false;
        }

        function signup(name, email, password) {
            if (state.users.some(u => u.email === email)) {
                return false;
            }
            const newUser = { name, email, password, id: Date.now() };
            state.users.push(newUser);
            localStorage.setItem('users', JSON.stringify(state.users));
            return true;
        }

        function logout() {
            state.currentUser = null;
            sessionStorage.removeItem('currentUser');
            localStorage.removeItem('rememberedUser');
            updateAuthUI();
        }

        const rememberedUser = localStorage.getItem('rememberedUser');
        const sessionUser = sessionStorage.getItem('currentUser');
        
        if (sessionUser) {
            state.currentUser = JSON.parse(sessionUser);
        } else if (rememberedUser) {
            state.currentUser = JSON.parse(rememberedUser);
        }
        updateAuthUI();

        // Auth modal handlers
        document.getElementById('open-login').addEventListener('click', () => openAuthModal('login'));
        document.getElementById('open-signup').addEventListener('click', () => openAuthModal('signup'));
        document.getElementById('close-auth').addEventListener('click', closeAuthModal);
        document.getElementById('logout-btn').addEventListener('click', logout);

        function openAuthModal(tab = 'login') {
            authModal.classList.add('active');
            if (tab === 'login') {
                document.getElementById('login-tab').click();
            } else {
                document.getElementById('signup-tab').click();
            }
        }

        function closeAuthModal() {
            authModal.classList.remove('active');
            clearAuthErrors();
        }

        function clearAuthErrors() {
            document.querySelectorAll('.error-message').forEach(el => el.textContent = '');
            document.querySelectorAll('.success-message').forEach(el => el.textContent = '');
        }

        document.getElementById('login-tab').addEventListener('click', () => {
            document.getElementById('login-tab').classList.add('active');
            document.getElementById('signup-tab').classList.remove('active');
            document.getElementById('login-form').classList.add('active');
            document.getElementById('signup-form').classList.remove('active');
            clearAuthErrors();
        });

        document.getElementById('signup-tab').addEventListener('click', () => {
            document.getElementById('signup-tab').classList.add('active');
            document.getElementById('login-tab').classList.remove('active');
            document.getElementById('signup-form').classList.add('active');
            document.getElementById('login-form').classList.remove('active');
            clearAuthErrors();
        });

        document.getElementById('login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            clearAuthErrors();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const remember = document.getElementById('remember-me').checked;
            
            if (!email || !password) {
                document.getElementById('login-general-error').textContent = 'Please fill all fields';
                return;
            }
            
            if (login(email, password, remember)) {
                document.getElementById('login-success-message').textContent = 'Login successful! Redirecting...';
            } else {
                document.getElementById('login-general-error').textContent = 'Invalid email or password';
            }
        });

        document.getElementById('signup-form').addEventListener('submit', (e) => {
            e.preventDefault();
            clearAuthErrors();
            
            const name = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            const confirm = document.getElementById('signup-confirm').value;
            const terms = document.getElementById('terms').checked;
            
            if (!name) {
                document.getElementById('signup-name-error').textContent = 'Name is required';
                return;
            }
            if (!email || !email.includes('@')) {
                document.getElementById('signup-email-error').textContent = 'Valid email is required';
                return;
            }
            if (password.length < 6) {
                document.getElementById('signup-password-error').textContent = 'Password must be at least 6 characters';
                return;
            }
            if (password !== confirm) {
                document.getElementById('signup-confirm-error').textContent = 'Passwords do not match';
                return;
            }
            if (!terms) {
                document.getElementById('terms-error').textContent = 'You must agree to the terms';
                return;
            }
            
            if (signup(name, email, password)) {
                document.getElementById('signup-success-message').textContent = 'Account created! Please login.';
                setTimeout(() => {
                    document.getElementById('login-tab').click();
                    document.getElementById('login-email').value = email;
                }, 2000);
            } else {
                document.getElementById('signup-general-error').textContent = 'Email already exists';
            }
        });

        document.getElementById('forgot-password').addEventListener('click', (e) => {
            e.preventDefault();
            alert('üìß Password reset link sent to your email!');
        });

        authModal.addEventListener('click', (e) => {
            if (e.target === authModal) closeAuthModal();
        });

        toolModal.addEventListener('click', (e) => {
            if (e.target === toolModal) closeToolModal();
        });

        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            mobileMenu.classList.toggle('active');
        });

        function openToolModal(toolId) {
            state.currentTool = toolId;
            state.files = [];
            const tool = tools[toolId];
            
            document.getElementById('tool-title').textContent = tool.title;
            document.getElementById('tool-options').innerHTML = tool.optionsUI || '';
            
            const fileInput = document.getElementById('file-input');
            fileInput.accept = tool.accept || '*/*';
            fileInput.multiple = tool.multiple || false;
            
            document.getElementById('file-list').innerHTML = '';
            document.getElementById('output-area').innerHTML = '';
            document.getElementById('process-btn').disabled = true;
            
            toolModal.classList.add('active');
            
            if (tool.onFileSelect) {
                setTimeout(() => tool.onFileSelect(), 100);
            }
        }

        window.openTool = openToolModal;

        function closeToolModal() {
            toolModal.classList.remove('active');
            if (window.fabricCanvas) window.fabricCanvas.dispose();
        }

        document.getElementById('close-tool-modal').addEventListener('click', closeToolModal);

        const dropZone = document.getElementById('drop-zone');
        const fileInput = document.getElementById('file-input');
        const fileList = document.getElementById('file-list');
        const processBtn = document.getElementById('process-btn');

        dropZone.addEventListener('click', () => fileInput.click());

        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('dragover');
        });

        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('dragover');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('dragover');
            handleFiles(e.dataTransfer.files);
        });

        fileInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
        });

        function handleFiles(files) {
            const tool = tools[state.currentTool];
            if (!tool) return;
            
            if (tool.multiple) {
                state.files = [...state.files, ...Array.from(files)];
            } else {
                state.files = [files[0]];
            }
            
            renderFileList();
            
            if (tool.onFileSelect && state.files.length > 0) {
                tool.onFileSelect(state.files[0]);
            }
        }

        function renderFileList() {
            fileList.innerHTML = '';
            state.files.forEach((file, index) => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <span>üìÑ ${file.name} (${(file.size / 1024).toFixed(1)} KB)</span>
                    <span class="remove-file" data-index="${index}">‚úï</span>
                `;
                fileList.appendChild(li);
            });
            
            document.querySelectorAll('.remove-file').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = e.target.dataset.index;
                    state.files.splice(index, 1);
                    renderFileList();
                });
            });
            
            processBtn.disabled = state.files.length === 0;
        }

        processBtn.addEventListener('click', async () => {
            const tool = tools[state.currentTool];
            
            try {
                await tool.process(state.files);
            } catch (error) {
                showError(error.message);
                hideLoader();
            }
        });

        // Generate tool cards
        const toolsGrid = document.getElementById('tools-grid');
        
        Object.keys(tools).forEach((toolId) => {
            const tool = tools[toolId];
            const card = document.createElement('div');
            card.className = 'tool-card';
            card.innerHTML = `
                <div class="tool-icon">${tool.icon}</div>
                <h3>${tool.title}</h3>
                <p>${tool.description}</p>
                ${tool.featured ? '<div class="badge">POPULAR</div>' : ''}
            `;
            card.addEventListener('click', () => openToolModal(toolId));
            toolsGrid.appendChild(card);
        });

        // Update stats
        document.getElementById('stat-tools').textContent = Object.keys(tools).length + '+';

        // Set initial theme
        setTheme(state.theme);
    </script>
</body>
</html>



